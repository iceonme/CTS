# Arena UI ä¼˜åŒ– Walkthrough

## å˜æ›´æ¦‚è¿°

åœ¨ Arena å›æµ‹ç«æŠ€åœºé¡µé¢ä¸Šå®ç°äº†å››é¡¹ UI ä¼˜åŒ–ï¼š

1. **K çº¿ä»·æ ¼å›¾è¡¨** â€” åœ¨å‡€å€¼æ›²çº¿ä¸Šæ–¹æ–°å¢ CandlestickSeries å›¾è¡¨
2. **ä¹°å–æ ‡è®°** â€” åœ¨ K çº¿å›¾ä¸Šæ˜¾ç¤º B/S ç®­å¤´æ ‡ç­¾
3. **é€‰æ‰‹ç­›é€‰** â€” ç‚¹å‡»é€‰æ‰‹å¡ç‰‡å¯ç­›é€‰æ—¥å¿—å’Œäº¤æ˜“è®°å½•
4. **äº¤æ˜“è®°å½•å®Œå–„** â€” å¢åŠ æ—¥æœŸå’Œ USDT é‡‘é¢åˆ—

## ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| [KlinePriceChart.tsx](file:///c:/Projects/can/my-app/app/components/backtest/KlinePriceChart.tsx) | æ–°å»º | K çº¿å›¾è¡¨ç»„ä»¶ (~290è¡Œ) |
| [page.tsx](file:///c:/Projects/can/my-app/app/arena/page.tsx) | ä¿®æ”¹ | æ•´åˆæ–°ç»„ä»¶ã€çŠ¶æ€ç®¡ç†ã€ç­›é€‰é€»è¾‘ |
| [route.ts](file:///c:/Projects/can/my-app/app/api/market/klines/route.ts) | ä¿®æ”¹ | æ–°å¢ start/end èŒƒå›´æŸ¥è¯¢å‚æ•° |

## åŠŸèƒ½å®ç°è¯¦æƒ…

### K çº¿å›¾è¡¨ (KlinePriceChart.tsx)

- ä½¿ç”¨ `lightweight-charts` v5 çš„ `CandlestickSeries`
- ä¸¤ç»„ Seriesï¼šå·²è¿‡æ—¶é—´æ­£å¸¸é¢œè‰²ï¼ˆç»¿æ¶¨çº¢è·Œï¼‰ï¼Œæœªæ¥æ—¶é—´åŠé€æ˜ç°è‰²
- æ—¶é—´å‘¨æœŸåˆ‡æ¢ï¼š15åˆ†é’Ÿ / 1å°æ—¶ï¼ˆé»˜è®¤ï¼‰/ æ—¥çº¿ï¼Œç‚¹å‡»æŒ‰é’®é‡æ–°åŠ è½½å¯¹åº” interval æ•°æ®
- è¿›åº¦æŒ‡ç¤ºçº¿ï¼ˆè“è‰²è™šçº¿ï¼‰æ ‡è®°å½“å‰æ¨¡æ‹Ÿæ—¶é—´ä½ç½®
- `createSeriesMarkers` æ·»åŠ  B/S ç®­å¤´æ ‡è®°

### é€‰æ‰‹ç­›é€‰

- é€‰æ‰‹å¡ç‰‡å¢åŠ ã€ŒğŸ“‹ è¯¦æƒ…ã€æŒ‰é’®ï¼ˆhover æ˜¾ç¤ºï¼Œé€‰ä¸­åå¸¸é©»é«˜äº®ï¼‰
- Tab æ å³ä¾§æ˜¾ç¤ºç­›é€‰æ ‡ç­¾ + âœ• æ¸…é™¤æŒ‰é’®
- æ—¥å¿—å’Œäº¤æ˜“é¢æ¿æ ¹æ® `selectedContestantForDetail` è¿‡æ»¤æ˜¾ç¤º

### äº¤æ˜“è¡¨æ ¼

- æ—¶é—´åˆ—ï¼šä» `toLocaleTimeString()` æ”¹ä¸º `toLocaleString('zh-CN', { month, day, hour, minute })`
- æ–°å¢ã€Œé‡‘é¢ (USDT)ã€åˆ—ï¼šä¹°å…¥çº¢è‰² `-$xxx`ï¼Œå–å‡ºç»¿è‰² `+$xxx`

## éªŒè¯ç»“æœ

- âœ… `next build` ç¼–è¯‘æˆåŠŸï¼ˆCompiled successfullyï¼‰
- âœ… Arena ç›¸å…³æ–‡ä»¶ lint é€šè¿‡
- â¬œ æµè§ˆå™¨è§†è§‰æ£€æŸ¥å¾…ç”¨æˆ·æ‰‹åŠ¨éªŒè¯
