# CTS (Crypto Trading Squad) - 项目交接文档

> 创建时间: 2026-02-15  
> 用途: 会话重启后恢复上下文

---

## 1. 项目一句话描述

**CTS (Crypto Trading Squad)** 是一个「加密资产 CFO」AI 助手，帮助用户盯盘、发现机会、提醒异动，并能自然对话解答市场问题。

---

## 2. 核心架构（已确定）

### 2.1 三层 MAS 架构
```
L1 - CFO (决策官): 唯一能与用户对话、做决策的角色
       ↓
L2 - Bull/Bear 模式: CFO 内部推理双模式（非独立 Agent）
       ↓
L3 - 情报员: 技术分析、巨鲸监控等（被动，被 CFO 调用）
```

### 2.2 关键设计决策
| 决策 | 内容 |
|------|------|
| Bull/Bear | **内部模式**（不是独立 Agent），用于 CFO 自身推理和正确率统计 |
| 通信方式 | **轮询**（5-15 分钟），非 WebSocket 实时 |
| 数据策略 | Phase 1: CoinGecko + Binance（免费 API） |
| 自主性 | 3 档：notify(仅通知) / confirm(需确认) / auto(自动执行) |
| 部署 | 本地优先，SaaS 架构 |

### 2.3 四大工作任务
1. **盯盘** (每 5-15 分钟): 检查关注币种状态
2. **找机会** (每 12 小时): 扫描市场找交易机会
3. **异动提醒** (事件触发): 价格/成交量异常时立即通知
4. **操作报告** (每 12 小时): 资产总结和绩效回顾

---

## 3. MVP 功能（5 模块）

### 模块 1: 首页 - CFO 对话台
- 类 ChatGPT 聊天界面
- CFO 主动发消息（盯盘结果、异动提醒）
- 每条消息显示：分析结论 + 置信度(0-100%) + 展开按钮
- 展开可见：看多理由 / 看空理由 / 最终判断

### 模块 2: Feed 情报流
- Twitter 式时间线
- 不同颜色区分情报类型（技术分析、异动、报告）
- 支持按币种筛选

### 模块 3: WarRoom
- 看多 vs 看空对战可视化
- CFO 历史正确率统计
- 最近决策记录及结果验证

### 模块 4: 资产管理
- 手动录入持仓（数量、成本价）
- 总资产估值（按当前市场价）
- 今日盈亏 + 资产分布饼图
- ⚠️ MVP 不支持交易所 API 连接

### 模块 5: 设置
- CFO 盯盘频率设置
- 异动提醒阈值设置
- 关注币种列表管理
- 通知开关

---

## 4. MVP 明确不做（Phase 2）
- ❌ 真实交易执行（只做模拟/建议）
- ❌ 连接真实钱包/交易所 API
- ❌ 多智能体独立对话（情报以 CFO 视角统一呈现）
- ❌ 实时 WebSocket 推送
- ❌ 复杂策略回测

---

## 5. 待确认问题（阻塞开发）

以下 4 个问题需要用户确认后才能开始开发：

| # | 问题 | 建议方案 |
|---|------|----------|
| 1 | **默认盯盘频率** | 30 分钟 |
| 2 | **异动提醒阈值** | 1 小时内涨跌超过 3% |
| 3 | **MVP 支持币种** | BTC、ETH、SOL 三个 |
| 4 | **CFO 说话风格** | A) 专业简洁 / B) 口语易懂 |

**下次启动时，请先回答这 4 个问题。**

---

## 6. 技术栈（已确定）

| 层级 | 技术 |
|------|------|
| 框架 | Next.js 14 + App Router + TypeScript |
| AI | Vercel AI SDK |
| 数据库 | PostgreSQL |
| 缓存/Feed | Redis |
| 数据源 | CoinGecko (主) + Binance (验证) |

---

## 7. 文档清单

项目文档保存在 `docs/` 目录：

```
docs/
├── handoff.md          ← 本文件（交接用）
├── mvp_functional.md   ← MVP 功能详细描述
├── system_design.md    ← 系统架构设计
├── task.md             ← 任务列表与排期
├── ui_design.md        ← UI 设计规范
└── implementation_plan.md  ← 技术实现指南
```

---

## 8. 下次启动恢复指令

用户启动 Kimi Code CLI 后，说以下任意一种：

**方式 A - 完整恢复：**
> "继续 CTS (Crypto Trading Squad) 项目，读取 docs/handoff.md 和所有设计文档"

**方式 B - 快速恢复：**
> "继续 CTS 项目，先回答那 4 个确认问题"

---

## 9. 当前状态总结

- ✅ 架构设计完成
- ✅ 模块划分完成
- ✅ MVP 功能边界确定
- ✅ 技术栈确定
- ⏳ 等待 4 个确认问题
- ⏳ 等待开始编码

---

*此文档由 AI 助手在会话结束时生成，用于会话重启后快速恢复上下文。*
