# CTS é¡¹ç›®äº¤æ¥æ–‡æ¡£

> **Crypto Trading System (CTS)** - MVP ç‰ˆæœ¬äº¤æ¥
> 
> äº¤æ¥æ—¥æœŸ: 2026-02-17
> äº¤æ¥äºº: iceonme

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

CTS æ˜¯ä¸€ä¸ªåŠ å¯†è´§å¸äº¤æ˜“ç³»ç»Ÿ MVPï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

- **ğŸ¤– Personal Assistant (PA)** - å¯é…ç½®çš„ AI äº¤æ˜“åŠ©æ‰‹
- **ğŸ“° Feed ä¿¡æ¯æµ** - è‡ªåŠ¨èšåˆæŠ€æœ¯é¢ã€é¢„æµ‹å¸‚åœºã€PA åˆ†æ
- **ğŸ“Š Portfolio èµ„äº§çœ‹æ¿** - æŒä»“ç®¡ç†ã€ç›ˆäºè¿½è¸ªã€èµ„äº§é…ç½®
- **ğŸ›ï¸ WarRoom ä½œæˆ˜å®¤** - äº¤æ˜“å†³ç­–æµç¨‹å¯è§†åŒ–
- **âš™ï¸ Auto-Trading è‡ªåŠ¨äº¤æ˜“** - å¸¦é£æ§çš„è‡ªåŠ¨æ‰§è¡Œç³»ç»Ÿ

### æŠ€æœ¯æ ˆ

```
- æ¡†æ¶: Next.js 14.2.35 + React 18 + TypeScript
- æ ·å¼: Tailwind CSS 3.4
- æ„å»ºè¾“å‡º: é™æ€å¯¼å‡º (dist/)
- æµ‹è¯•: Playwright
- è¿›ç¨‹ç®¡ç†: PM2 (å¯é€‰)
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

```bash
# å¿…éœ€
- Node.js 18+
- npm 9+

# å¯é€‰ (ç”¨äºåå°è¿è¡Œ)
- PM2: npm install -g pm2
```

### 2. å®‰è£…ä¾èµ–

```bash
cd my-app
npm install
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# æ–¹å¼1: ç›´æ¥å¯åŠ¨
npm run dev

# æ–¹å¼2: ä½¿ç”¨ PM2 åå°è¿è¡Œ
pm2 start pm2.config.js
```

è®¿é—®: http://localhost:3000

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
# è¾“å‡ºç›®å½•: dist/
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
my-app/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ agents/                   # Agent ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ page.tsx              # Agent åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ [id]/                 # Agent è¯¦æƒ…/é…ç½®
â”‚   â”œâ”€â”€ components/               # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx     # èŠå¤©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ FeedScheduler.tsx     # Feed è°ƒåº¦å™¨
â”‚   â”‚   â”œâ”€â”€ PAConfigPanel.tsx     # PA é…ç½®é¢æ¿
â”‚   â”‚   â””â”€â”€ PADashboard.tsx       # PA ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ feed/                     # ä¿¡æ¯æµé¡µé¢
â”‚   â”œâ”€â”€ portfolio/                # èµ„äº§çœ‹æ¿
â”‚   â”œâ”€â”€ settings/                 # è®¾ç½®ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ page.tsx              # é€šç”¨è®¾ç½®
â”‚   â”‚   â””â”€â”€ auto-trading/         # è‡ªåŠ¨äº¤æ˜“è®¾ç½®
â”‚   â”œâ”€â”€ warroom/                  # ä½œæˆ˜å®¤
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx                  # é¦–é¡µ
â”œâ”€â”€ lib/                          # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ skills/                   # æŠ€èƒ½ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ config/manager.ts     # é…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ trading/                  # äº¤æ˜“ç›¸å…³
â”‚   â”‚   â””â”€â”€ auto-trader.ts        # è‡ªåŠ¨äº¤æ˜“å¼•æ“
â”‚   â”œâ”€â”€ types/                    # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ pa-task.ts            # PA ä»»åŠ¡ç±»å‹
â”‚   â””â”€â”€ ...
â”œâ”€â”€ tests/                        # Playwright æµ‹è¯•
â”œâ”€â”€ scripts/                      # å®ç”¨è„šæœ¬
â”œâ”€â”€ screenshots/                  # æµ‹è¯•æˆªå›¾
â”œâ”€â”€ dist/                         # æ„å»ºè¾“å‡º
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.mjs               # Next.js é…ç½®
â”œâ”€â”€ playwright.config.ts          # æµ‹è¯•é…ç½®
â””â”€â”€ pm2.config.js                 # PM2 é…ç½®
```

---

## âš™ï¸ é‡è¦é…ç½®

### Next.js é…ç½® (next.config.mjs)

```javascript
const nextConfig = {
  output: 'export',           // é™æ€å¯¼å‡º
  distDir: 'dist',            // è¾“å‡ºç›®å½•
  assetPrefix: '.',           // ç›¸å¯¹è·¯å¾„ (æ”¯æŒ file://)
  images: { unoptimized: true }
}
```

### å…³é”®ç¯å¢ƒå˜é‡

å½“å‰ç‰ˆæœ¬**ä¸éœ€è¦**é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€æœ‰é…ç½®é€šè¿‡ localStorage å­˜å‚¨ã€‚

**æ³¨æ„**: Polymarket æ•°æ®ç›®å‰æ˜¯æ¨¡æ‹Ÿæ•°æ®ï¼Œå¦‚éœ€æ¥å…¥çœŸå® APIï¼š
- åœ¨ `lib/market/polymarket.ts` ä¸­é…ç½® API Key
- æˆ–ä½¿ç”¨ä»£ç†è§£å†³ CORS é—®é¢˜

---

## ğŸ”„ æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### 1. Feed è°ƒåº¦ç³»ç»Ÿ

è‡ªåŠ¨å‘å¸ƒä¿¡æ¯æµï¼Œé€šè¿‡ `FeedScheduler` ç»„ä»¶è°ƒåº¦ï¼š

| ç±»å‹ | é¢‘ç‡ | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯é¢åˆ†æ | æ¯5åˆ†é’Ÿ | CoinGecko API æ•°æ® |
| é¢„æµ‹å¸‚åœº | æ¯5åˆ†é’Ÿ | Polymarket (å½“å‰ä¸ºæ¨¡æ‹Ÿæ•°æ®) |
| PA åˆ†æ | æ¯15åˆ†é’Ÿ | åŸºäº Portfolio çš„æ•´ä½“åˆ†æ |

### 2. PA é…ç½®ç³»ç»Ÿ

é…ç½®å­˜å‚¨ä½ç½®: `localStorage['cts_pa_config']`

é…ç½®ç»“æ„:
```typescript
{
  identity: { name, personality, background },
  globalSettings: { timezone, riskLevel, ... },
  skills: { feedReader, marketAnalyst, trader, ... }
}
```

### 3. è‡ªåŠ¨äº¤æ˜“é£æ§

åœ¨ `/settings/auto-trading` é…ç½®:

- å•ç¬”æœ€å¤§é‡‘é¢
- æœ€ä½ç½®ä¿¡åº¦é˜ˆå€¼
- æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°
- å…è®¸äº¤æ˜“ç±»å‹ (ä¹°/å–/å‡ä»“)
- æ­¢æŸ/æ­¢ç›ˆç™¾åˆ†æ¯”
- äº¤æ˜“æ—¶é—´æ®µ
- äº¤æ˜“é»‘åå•

### 4. ä»»åŠ¡æ‰§è¡Œæµç¨‹

```
Feed ä¿¡å· â†’ å¼‚å¸¸æ£€æµ‹ â†’ PA åˆ†æ â†’ ç”ŸæˆæŒ‡ä»¤ â†’ é£æ§æ£€æŸ¥ â†’ æ‰§è¡Œäº¤æ˜“ â†’ æ›´æ–° Portfolio â†’ WarRoom è®°å½•
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£… Playwright ä¾èµ– (é¦–æ¬¡)
npx playwright install chromium

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npx playwright test

# å¸¦ UI è°ƒè¯•
npx playwright test --ui

# ç”ŸæˆæŠ¥å‘Š
npx playwright show-report
```

### æµ‹è¯•è¦†ç›–

- âœ… é¦–é¡µ (`/`)
- âœ… Feed é¡µé¢ (`/feed`)
- âœ… Portfolio é¡µé¢ (`/portfolio`)
- âœ… WarRoom é¡µé¢ (`/warroom`)
- âœ… Agents é¡µé¢ (`/agents`)
- âœ… Settings é¡µé¢ (`/settings`)
- âœ… å“åº”å¼å¸ƒå±€ (desktop/tablet/mobile)

---

## ğŸ“¦ éƒ¨ç½²

### é™æ€éƒ¨ç½²

```bash
cd my-app
npm run build
# å°† dist/ ç›®å½•éƒ¨ç½²åˆ°ä»»æ„é™æ€æœåŠ¡å™¨
```

### ä½¿ç”¨ PM2 ç®¡ç†

```bash
# å¯åŠ¨
pm2 start pm2.config.js

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs cts

# é‡å¯
pm2 restart cts

# åœæ­¢
pm2 stop cts
```

---

## âš ï¸ å·²çŸ¥é—®é¢˜ & æ³¨æ„äº‹é¡¹

### 1. å­—ä½“æ˜¾ç¤ºé—®é¢˜

**ç°è±¡**: æµ‹è¯•æˆªå›¾ä¸­ä¸­æ–‡æ˜¾ç¤ºä¸ºæ–¹å—

**åŸå› **: æœåŠ¡å™¨ç¼ºå°‘ä¸­æ–‡å­—ä½“

**å½±å“**: ä»…å½±å“æ— å¤´æµè§ˆå™¨æˆªå›¾ï¼Œä¸å½±å“å®é™…ç”¨æˆ·ä½¿ç”¨

**è§£å†³**: å¦‚éœ€åœ¨æ— å¤´ç¯å¢ƒæ˜¾ç¤ºä¸­æ–‡ï¼Œå®‰è£…å­—ä½“:
```bash
# Ubuntu/Debian
sudo apt-get install fonts-noto-cjk
```

### 2. Polymarket æ•°æ®

**ç°çŠ¶**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®

**åŸå› **: éœ€è¦ API Key å’Œä»£ç†è§£å†³ CORS

**æ–‡ä»¶**: `lib/market/polymarket.ts`

### 3. localStorage å­˜å‚¨

**ç°çŠ¶**: æ‰€æœ‰é…ç½®å­˜å‚¨åœ¨æµè§ˆå™¨ localStorage

**æœªæ¥**: å·²é¢„ç•™ `ApiStorageAdapter` æ¥å£ï¼Œå¯æ— ç¼åˆ‡æ¢è‡³åç«¯å­˜å‚¨

### 4. æ„å»ºç¼“å­˜

å¦‚é‡å¥‡æ€ªé—®é¢˜ï¼Œæ¸…ç†ç¼“å­˜:
```bash
rm -rf .next dist
npm run build
```

---

## ğŸ”® æœªæ¥è§„åˆ’

### SaaS åŒ–å‡†å¤‡

- âœ… ConfigStorageAdapter æŠ½è±¡å±‚
- âœ… é…ç½®å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
- â³ åç«¯ API æ¥å…¥
- â³ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- â³ çœŸå®äº¤æ˜“æ¥å£ (äº¤æ˜“æ‰€ API)

### åŠŸèƒ½æ‰©å±•

- â³ æ›´å¤šæ•°æ®æº (Glassnode, Dune, etc.)
- â³ ç­–ç•¥å›æµ‹ç³»ç»Ÿ
- â³ å¤š Agent åä½œ
- â³ ç§»åŠ¨ç«¯ App

---

## ğŸ“ è”ç³» & èµ„æº

- **GitHub**: https://github.com/iceonme/CTS
- **æ–‡æ¡£**: è§ `docs/` ç›®å½•

---

## âœ… äº¤æ¥æ£€æŸ¥æ¸…å•

- [x] ä»£ç å·² push åˆ° GitHub
- [x] æ–‡æ¡£å·²æ›´æ–°
- [x] æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [x] æ„å»ºæˆåŠŸ
- [ ] æ–°ç”µè„‘ç¯å¢ƒé…ç½®éªŒè¯
- [ ] æ•°æ®å¤‡ä»½ (å¦‚æœ‰é‡è¦é…ç½®éœ€å¯¼å‡º)

---

**ç¥æ–°ç”µè„‘ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰**
